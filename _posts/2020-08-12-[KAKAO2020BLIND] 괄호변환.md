---
layout: post
title:  "[KAKAO2020BLIND] 괄호변환"
date:   2020-08-12 08:45:00 +0900
categories: [algorithm]
use_math: true
---

## 괄호변환





### 풀이

```python
def solution(p):
    # 올바른 문자열 체크
    def check_right(s):
        new = s
        # 2개를 1개로 줄이는 과정이므로 len(s)/2 만큼 줄임
        for _ in range(0, int(len(s)/2)):
            new = new.replace("()", "")
        
        if not new: return True
        else: return False
        
    # 괄호를 바꿔주는 함수
    def convertor(s):
        s = s[1:-1]
        new_s = ""
        for i in range(0, len(s)):
            if s[i]=='(': new_s += ')'
            else: new_s += '('
        return new_s
    
    # 재귀함수
    def recur(p):
        answer = ''
        u = ""; v = ""
        
        # 1. 빈 문자열일 경우, 이미 올바른 문자열일 경우
        if not p: return ""
        if check_right(p): return p

        # 2. u, v로 분리 (u은 더이상 구분할 수 없는 균형잡힌 문자열일 때까지), "("와 ")"의 개수의 합이 0이 될 때까지
        u_cnt = 0
        i = 0
        while 1:
            u += p[i]
            if p[i] == '(': u_cnt += 1
            else: u_cnt -= 1
            i += 1
            if u_cnt == 0: break
        for j in range(i, len(p)):
            v += p[j]
        
        print("u: ", u)
        print("v: ", v)
        
        # 3. u가 올바른 문자열일 때 (v도 올바른 문자열이면 그대로 반환됨, 아닐경우에 v가 u가 됨)
        if check_right(u):
            print("올바른")
            answer += u + recur(v)
        # 4. u가 올바른 문자열이 아닐 때
        else:
            print("올바르지않은")
            answer += '('+recur(v)+')'
            answer += convertor(u)
    
    if check_right(p): return p
    recur(p)
    
    answer = ''
    return answer
```

위의 식은 `recur` 함수의 return이 없다

```python
# 올바른 문자열 체크
def check_right(s):
    new = s
    # 2개를 1개로 줄이는 과정이므로 len(s)/2 만큼 줄임
    for _ in range(0, int(len(s)/2)):
        new = new.replace("()", "")

    if not new: return True
    else: return False

# 괄호를 바꿔주는 함수
def convertor(s):
    s = s[1:-1]
    new_s = ""
    for i in range(0, len(s)):
        if s[i]=='(': new_s += ')'
        else: new_s += '('
    return new_s

def solution(p):
    answer = ''
    u = ""; v = ""

    # 1. 빈 문자열일 경우, 이미 올바른 문자열일 경우
    if not p: return ""
    if check_right(p): return p

    # 2. u, v로 분리 (u은 더이상 구분할 수 없는 균형잡힌 문자열일 때까지), "("와 ")"의 개수의 합이 0이 될 때까지
    u_cnt = 0
    i = 0
    while 1:
        u += p[i]
        if p[i] == '(': u_cnt += 1
        else: u_cnt -= 1
        i += 1
        if u_cnt == 0: break
    for j in range(i, len(p)):
        v += p[j]

    # 3. u가 올바른 문자열일 때 (v도 올바른 문자열이면 그대로 반환됨, 아닐경우에 v가 u가 됨)
    if check_right(u):
        answer += u + solution(v)
    # 4. u가 올바른 문자열이 아닐 때
    else:
        answer += '('+solution(v)+')'
        answer += convertor(u)
    
    return answer
```

